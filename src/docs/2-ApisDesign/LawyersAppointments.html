<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/docPage.css">
    <link rel="stylesheet" href="../css/docs.css">
    <title>Lawyers Appointments APP</title>
</head>

<body>
    <div id="main-title">
        <h1>MateStampa Docs</h1>
    </div>


    <div id="grupo-documento">
        <!-- Enlace al grupo -->
        <a id="grupo-enlace" href="../../Intros/2 apis_design.html">Apis Design</a>
        <!-- Separador ">" -->
        <span> &gt; </span>
        <!-- Enlace al documento -->
        <a>Lawyers Appointments APP</a>
    </div>

    <div id="show-doc-container">
        <div id="indice"><ul class="indice"><li><a class="h1-ref" href="#-INTRO:">-INTRO:</a></li><li><a class="h1-ref" href="#REQUERIMIENTOS FUNCIONALES:">REQUERIMIENTOS FUNCIONALES:</a></li><ul class="nivel-h2"><li><a class="h2-ref" href="#1.-Client:">1.-Client:</a></li><li><a class="h2-ref" href="#2.-Lawyer:">2.-Lawyer:</a></li><li><a class="h2-ref" href="#3.-Ambos:">3.-Ambos:</a></li><li><a class="h2-ref" href="#Prioridades:">Prioridades:</a></li></ul><li><a class="h1-ref" href="#TÉCNICA DE SISTEMA DE TURNOS IMPLEMENTADA:">TÉCNICA DE SISTEMA DE TURNOS IMPLEMENTADA:</a></li><li><a class="h1-ref" href="#-DB DESIGN:">-DB DESIGN:</a></li><li><a class="h1-ref" href="#-IMPLEMENTACIÓN DE REQUERIMIENTOS FUNCIONALES.">-IMPLEMENTACIÓN DE REQUERIMIENTOS FUNCIONALES.</a></li><li><a class="h1-ref" href="#EXPLICACIÓN DE CIERTAS IMPLEMENTACIONES:">EXPLICACIÓN DE CIERTAS IMPLEMENTACIONES:</a></li><ul class="nivel-h2"><li><a class="h2-ref" href="#1- Diferenciar entre horarios default y horarios modificados.">1- Diferenciar entre horarios default y horarios modificados.</a></li><li><a class="h2-ref" href="#"></a></li><li><a class="h2-ref" href="#2-Separar las tablas para consultar disponibilidad, de la de turnos ya consolidados:">2-Separar las tablas para consultar disponibilidad, de la de turnos ya consolidados:</a></li><li><a class="h2-ref" href="#3-Rellenados de DB:">3-Rellenados de DB:</a></li></ul></ul></div>

        <div id="contenedor-documento">
            <div id="documento"><div id="A" style="background-color: transparent; min-height: 1000px; width: 100%; padding-top: 20px; overflow: auto;"><style></style><section style="width: 793px; min-height: 1122px; padding: 94px 113px; column-gap: 48px;"><p class=" Normal Ttulo" id="_heading=h.5u3swwmu2xbv" style="text-align: center;"><span class=" Fuentedeprrafopredeter" style="font-size: 18px;">     </span><span class=" Fuentedeprrafopredeter" style="font-size: 20px;"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 255, 0); font-size: 26px;"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 255, 0); font-size: 26px;">Lawyers</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 255, 0); font-size: 26px;"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 255, 0); font-size: 26px;">appointments</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 255, 0); font-size: 26px;"> “APP”</span></p><details class="display-section" id="-INTRO:"><summary class="Ttulo1">-INTRO:</summary><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Una </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">app</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, donde las personas pueden reservar turnos para una cita con algún agente. Estos agentes, pueden ser médicos, abogados, psicólogos, etc. La cuestión es que cada uno puede elegir sus propios días </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">y,  a</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> su vez dentro de estos, los horarios que tendrá</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">n disponibles. </span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Es decir, en este caso no es que los turnos salen de “algo en </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">común</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”,donde</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> los horarios son los mismos todos los días; sino que acá varían según el agente, dando lugar a muchas combinaciones distintas.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Para simplificar las cosas, decidimos </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">que los agentes sean abogados. Y los llamaremos “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” a lo largo del documento. Así como llamaremos “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">clients</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” a las personas que consumen el turno.</span></p><p class=" Normal"></p></details><details class="display-section" id="REQUERIMIENTOS FUNCIONALES:"><summary class="Ttulo1">REQUERIMIENTOS FUNCIONALES:</summary><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); text-decoration: underline;">Aclaración: </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Solo van a desarrollarse a fondo aquellas funcionalidades que t</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">engan que ver con el sistema de “turnos” en sí. Y se va a hacer de cierta forma, que pueda acoplarse luego, a lo que sería la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">app</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en su totalidad.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px; text-decoration: underline;">Partimos de que:</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;"> </span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">Cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;"> puede tener los días que quiera disponibles y, a su vez, en cada uno de esos dí</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">as puede tener los horarios que quiera.</span></p><h2 class=" Normal Ttulo2" id="1.-Client:"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">1.-Client:</span></h2><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">1.1-Ver los días disponibles para los distintos </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">           -Hasta cierto límite en el futuro.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">1.2-Ver los horarios disponibles dentro de cada uno de esos días</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">1.3-Tomar un turno para un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, día y horario disponible. </span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">             1.3.1- Abonar el turno para que se confirme. </span></p><h2 class=" Normal Ttulo2" id="2.-Lawyer:"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">2.-Lawyer: </span></h2><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.1- Elegir los horarios generales que quiera para cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">di</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">a</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de la semana (lun-dom) (no hace falta q sean los mismos cada día de la semana) (Pero debe mandarse algo inicial si o si para cubrir la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">primer semana</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.2- Cambiar(</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">borrar,añadir</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">,modificar</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">) los horarios generales de un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de la semana (</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ej</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> cambiar los que </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">se muestran todos los jueves)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.3- </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Cambiar(</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">borrar, </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">añadir,modificar</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">) los horarios de un día específico. (</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ej</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> eliminar el "8:00 pm" del jueves 22, porque sabe q no </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">estara</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> disponibles)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.4- Activar o anular un día general.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.5- Activar o anular un día específ</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ico.</span></p><h2 class=" Normal Ttulo2" id="3.-Ambos:"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">3.-Ambos:</span></h2><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">3.1-Ver los turnos en los que están involucrados.</span></p><h2 class=" Normal Ttulo2" id="Prioridades:"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">Prioridades:</span></h2><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Hacer las funcionalidades de tipo “READ” más rápidas. Específicamente </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.2</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.3.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Ocupar el menor almacenamiento posible para guardar las distintas combinaciones de turnos. Es d</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ecir, evitar la redundancia constante de ciertos datos. O reducirla lo más que se pueda.</span></p><p class=" Normal"></p></details><details class="display-section" id="TÉCNICA DE SISTEMA DE TURNOS IMPLEMENTADA:"><summary class="Ttulo1">TÉCNICA DE SISTEMA DE TURNOS IMPLEMENTADA:</summary><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Ver: </span><a href="../3-CaseStudies/SistTurnosBBDD.html"><span class=" Fuentedeprrafopredeter" style="color: rgb(17, 85, 204); font-size: 18px; text-decoration: underline;">../</span><span class=" Fuentedeprrafopredeter" style="color: rgb(17, 85, 204); font-size: 18px; text-decoration: underline;">docs</span><span class=" Fuentedeprrafopredeter" style="color: rgb(17, 85, 204); font-size: 18px; text-decoration: underline;">/3 Case </span><span class=" Fuentedeprrafopredeter" style="color: rgb(17, 85, 204); font-size: 18px; text-decoration: underline;">Studies</span><span class=" Fuentedeprrafopredeter" style="color: rgb(17, 85, 204); font-size: 18px; text-decoration: underline;">/SistTurnosBBDD.html</span></a></p><p class=" Normal"></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> En este caso, los niveles serían: LAWYER - DAY - TIME. Y no puede haber repetición. Es decir que todos los turnos tienen datos distintos.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Qu</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">eremos priorizar la rapidez a la hora de ver la disponibilidad de turnos, antes que el momento de tomarlos. </span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Además</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> queremos usar el menor almacenamiento posible. En este caso, esperamos que cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> tenga bastantes horarios por día; y no queremos sobre</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cargar la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">db</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">rows</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, rellenando las tablas </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">diariamente ,con</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> los horarios correspondientes a cada día.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Por estas razones usamos la técnica de: </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 192, 0);">“Sin previo llenado”</span><span class=" Fuentedeprrafopredeter">,</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y</span><span class=" Fuentedeprrafopredeter"> </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 192, 0);">“Con sistema de niveles”</span><span class=" Fuentedeprrafopredeter">, </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 192, 0);">“Sin repetición posible”. </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Que nos ofrece una mayor rapidez al ver la disponibilidad de turnos por nivel, y un menor uso de almacenamiento; a cambio de un mayor tiempo al tomar un turno.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">( Recordemos</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que sin previo llenado, se refiere a no meter una </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> por cada combinación que hace</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> a un turno único.  </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Osea</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> tenemos algunos pre rellenados, pero no a ese nivel tan bajo. </span><span class=" Fuentedeprrafopredeter" style="color: rgb(0, 254, 115); font-size: 17px; background-color: darkblue;">VER </span><span class=" Fuentedeprrafopredeter" style="color: rgb(0, 254, 115); font-size: 17px; background-color: darkblue;">IMPLEMENTACIONES(</span><span class=" Fuentedeprrafopredeter" style="color: rgb(0, 254, 115); font-size: 17px; background-color: darkblue;">3)</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 17px;"> </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> ) .</span></p><p class=" Normal"></p></details><details class="display-section" id="-DB DESIGN:"><summary class="Ttulo1">-DB DESIGN:</summary><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">IFRAME</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(0, 254, 115); font-size: 21px; text-decoration: underline;"><iframe src="https://drawsql.app/teams/los-colos/diagrams/lawyers-appointments-app/embed" width="100%" height="300px"></iframe></span></p><p class=" Normal"></p><p class=" Normal"></p><p class=" Normal"></p><p class=" Normal"></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">Explicación de tablas:</span></p><h3 class=" Normal Ttulo3" id="_heading=h.yoedl7q39aqf"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyers_days</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">( </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">fk</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">days</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> ) ):</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Vincula </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> con </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en una “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">many_to_many</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” para facilitar la traída de días disponibles y la toma de turnos.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.3d2axiv5cbn"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">days</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">day</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> (</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">fk</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">), status -</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">&gt;(</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">1,2), </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">avail</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">)</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> contiene la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">info</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> especifico (onda de fecha) de cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">. </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Ej</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">: Para el 20/02/2024 hay una </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> por cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> (siempre y cuando, ese </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que caiga de la semana lo tenga habilitado en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Contiene su configuración de día de </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">la semana, un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">status</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> (1 si mantiene los horarios default, o 2 si ha sido modificado), y un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> para saber cuántos horarios le quedan disponibles.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.yrpd2nwz18du"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">week_day</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">cant_times</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">):</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> tiene la “configuración” de cada uno de s</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">us días de la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">semana.(</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lun-dom). Por ahora </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">esta</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">config</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” solo es el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”, que indica cuántos horarios (</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">) contiene.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.27uh77ow64b"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">default_times</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, time):</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Los horarios “fijos” de cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de la semana que tenga cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">.    </span></p><h3 class=" Normal Ttulo3" id="_heading=h.uiwi8ss8h5vt"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">modifi</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">ed_times</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, time, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">added_at</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">)</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Horarios de algún día en específico que haya modificado un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">. (solo por ese </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">)</span></p><h3 class=" Normal Ttulo3" id="_heading=h.9n1k47ajuxa1"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">to_confirm</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">client_</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">  ,</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">time_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-&gt; sale de default o </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">modified</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> times, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">added_at</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">).</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Turnos </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">reservados</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> pero no confi</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">rmados (</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">osea</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que no se pagaron todavía)</span></p><h3 class=" Normal Ttulo3" id="_heading=h.81c7ujg2fro0"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">confirmed</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_day_</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> ,</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">time_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> -&gt;sale de default o </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">modified</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> times, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">timestamp</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">)</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Turnos ya confirmados. Se usan en </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.2</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> para ver que turnos ya están ocupados.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.sryz2mka8zrz"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">appointments</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">client_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">timestamp</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">)</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Registro del turno en sí, que vincula al </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">client</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y al </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">. Se usa en </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">3.1</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, para ver en qué turnos están involucrados. Se combina la data correspondiente </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">a  “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">timestamp</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” (que liter</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">almente es un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">timestamp</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">) para que la fecha y hora esté accesible de forma más directa; y no tengamos que hacer varios </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">joins</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> para traerla.</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: darkblue;"> </span><span class=" Fuentedeprrafopredeter" style="color: rgb(0, 254, 115); font-size: 17px; background-color: darkblue;">VER IMPLEMENTACIONES (2)</span></p><h3 class=" Normal Ttulo3" id="_heading=h.82x9ugtsla57"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">Indexes:</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">Los implementamos según nuestras prioridades, que son hacer más rápidas las funciona</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">lidades de tipo “READ”, y las de la sección “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">Clients</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">”.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.4o2r5j38zq2m"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_days</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id)</span></h3><h3 class=" Normal Ttulo3" id="_heading=h.xdih594j7nbx"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">days</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">: (id)</span></h3><h3 class=" Normal Ttulo3" id="_heading=h.dmjby13xsnr9"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> (id)</span></h3><h3 class=" Normal Ttulo3" id="_heading=h.6jvxlmsgp7fp"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">default_times</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> (</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">):</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Lo usamos en el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.2</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> para que el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">client</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> pueda ver los horarios disponibles. Lo cual queremos que sea rápido.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.86xd1u1zhr5i"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">modified_times</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> (</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> o nada):</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Si pusiéramos el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">index</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> sería más lento para los </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">2.3</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> al querer modificar los horarios de un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> especifico. Pero lo ciert</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">o es que es algo raro que pase, y en caso de pasar queremos que sea más rápido para el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">client</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> (ya que se puede llegar a usar en </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.2</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">).  Por lo </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">tanto</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> elegimos ponerlo.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.knx356lp9yvb"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">-</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">to_</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">confirm</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">( composite</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> (</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">time_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">) ):</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Hacemos el composite con esas 2 columna</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">s ya que nos sirven para buscar más rápido en </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.2</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.3</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> los horarios disponibles. En la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">query</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> se usa un “AND” con esas 2 columnas, y el composite </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">index</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> viene excelente para esta situación.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.rez4na6wz14h"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">confirmed</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">( composite</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> (</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_day_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">time_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">) ): </span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Mismo motivo que</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> el de arriba. Para buscar más rápido en </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.2</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">1.3.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.w2vjq0i3bkd"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">appointment</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);"> </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">( </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">client</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">, </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">,):</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Hacemos 2 individuales en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">client_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”, para que cada uno pueda buscar rápido sus turnos asignados en </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">3.1</span></p><p class=" Normal"></p></details><details class="display-section" id="-IMPLEMENTACIÓN DE REQUERIMIENTOS FUNCIONALES."><summary class="Ttulo1">-IMPLEMENTACIÓN DE REQUERIMIENTOS FUNCIONALES.</summary><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px; text-decoration: underline;">1.1:</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;"> </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">(recibe: </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">lawyer_ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">(Primero deberían seleccionarse los </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de los que queremos traer data. Lo cual es aparte y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">tendria</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que ver con otro filtro propio de </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">) </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">( esto</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> nos daría los “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers_ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” )</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Luego con los </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que hayan quedado, se hace</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">join</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> usando “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers_days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” con “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y se buscan los </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dias</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que estén dentro de cierto rango y cuyo “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”&gt;0.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">(devuelve </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_day_ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y la data de los días disponibles)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px; text-decoration: underline;">1.2: </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">(recibe: </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Según el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">status</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> del </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" se toman los times de la tabla "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" o de "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">modified_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">": </span><span class=" Fuentedeprrafopredeter" style="color: rgb(9, 255, 120); font-size: 17px; background-color: darkblue;">VER IMPLEMENTACIONES (1)</span></p><p class=" Normal" style="margin-left: 48px; text-indent: 48px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Si el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">status</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> es 1, se debe traer el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" y con eso traer los times de "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">".</span></p><p class=" Normal" style="margin-left: 48px; text-indent: 48px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Si el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">status</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> es 2, solo nos basta con el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que ya lo tenemos. Y con eso traemos los times de “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">modified_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Luego con los “times” que</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> se hayan traído; se devuelven al </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">client</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> los que no estén ni en la tabla “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">to_confirm</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” ni en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">confirmed</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” (</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">osea</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que no hayan sido tomados). Habría que buscar que no esté la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">combinación  de</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">(devuelve </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y su data)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">1.3:</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;"> (recibe </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">l</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">awyer_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">, y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">time_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 0, 0); font-size: 18px;">)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Verificar que el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> le pertenezca a ese </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">. O en este caso debería buscarse el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y ver que le pertenezca a ese.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Verificar que el combo de </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> no esté ni en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">to_confirm</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” ni en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">confirmed</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Si no </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">esta</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, comienza una </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">transaction</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">:</span></p><p class=" Normal" style="text-indent: 48px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Se hace un exclusive </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lock</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> correspondiente de “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y se hace SELECT del “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”. </span></p><p class=" Normal" style="text-indent: 48px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Se vuelve a chequear que el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">&gt;0. (sino se devuelve error) </span></p><p class=" Normal" style="text-indent: 48px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Si es así, se inserta una nueva </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">to_confirm</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”, y se </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">u</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">pdatea</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-=1 de la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”. </span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px; text-decoration: underline;">1.3.1:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">UNA VEZ QUE EL CLIENT PAGA, SE USA LA DATA DE “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">to_confirm</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” PARA METER UNA ROW A “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">appointments</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">confirmed</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Se trae el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y el time concreto y con eso se genera un “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">timestamp</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">                    -Con </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">l</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">awyer_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> se trae el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">                    -Con </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> ,dependiendo</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> con que numero </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">empieze</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, se busca en la tabla      correspondiente y se trae el time. </span><span class=" Fuentedeprrafopredeter" style="color: rgb(0, 254, 115); font-size: 17px; background-color: darkblue;">VER IMPLEMENTACIONES (1)</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">              -Se mete </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">client_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">timestamp</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, a “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">appointments</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">              -Se mete </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">timestamp</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” de antes a “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">confirmed</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">             -Se borra la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">to_confirm</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”.</span></p><p class=" Normal"></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">2.1:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Explicado en </span><span class=" Fuentedeprrafopredeter" style="color: rgb(0, 254, 115); font-size: 17px;">IMPLEMENTACIONES (3</span><span class=" Fuentedeprrafopredeter" style="color: rgb(0, 254, 115); font-size: 17px;">)</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 17px;"> </span><span class=" Fuentedeprrafopredeter" style="color: rgb(9, 255, 120); font-size: 17px;">.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px; text-decoration: underline;">2.2:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Se borra o añade la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que corresponda de "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" y se actualiza el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_days_conf</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">."</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">2.3:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Se traen los times de “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” del </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> del </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de la semana correspondiente, y se comparan con los cambios que quiere hacer. Los t</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">imes que hayan quedado se insertan a “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">modified_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-En el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> correspondiente </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">de  “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” se pone “status”=2 y se modifica el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” según la cantidad de times que hayan quedado.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px;">2.4:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); text-decoration: underline;">Anular:</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> -El día de la semana que corresponda junto con el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en la tabla "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" se le pone “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”=</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">0 (</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">osea</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> anulado).  Luego se busca en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” los pertenecientes a este </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que tengan el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” del que se acaba de modificar; y se les p</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">one </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">=0.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); text-decoration: underline;">Activar:</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> -Se cuentan los “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” que haya para ese “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”. Si ese día jamás se </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">activo</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, se va a pedir que se ingresen. En caso de que si haya, se modifica la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> correspondiente en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” poniendo “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”=</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">count</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">(lo q</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ue se contó antes). </span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">En caso de primera vez activando el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, se deben meter los distintos </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> a “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”, y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">tmb</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> las </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">rows</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> a “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”. Si no es la primera vez (onda el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> ya estaba activo antes y se </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">anulo</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">), hay que buscar los </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” que tengan </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y se les pone el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” de este como “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px; text-decoration: underline;">2.5:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); text-decoration: underline;">Anular:</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> Se lo busca en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” por su id, y se le pone </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">=0;</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); text-decoration: underline;">-Activar</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">: Se busca la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> correspondiente al </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y se trae el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">. Luego se bus</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ca el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> especifico en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y se le pone ese mismo </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que se trajo antes.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 18px; text-decoration: underline;">3.1:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Se busca por el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">client_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” o “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” (según quien lo haga) en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">appointments</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”, y se trae toda la data relacionada con el turno. </span></p><p class=" Normal"></p></details><details class="display-section" id="EXPLICACIÓN DE CIERTAS IMPLEMENTACIONES:"><summary class="Ttulo1">EXPLICACIÓN DE CIERTAS IMPLEMENTACIONES:</summary><h2 class=" Normal Ttulo2" id="1- Diferenciar entre horarios default y horarios modificados."><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">1- Diferenciar entre horarios default y horarios modificados.</span></h2><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">En </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); background-color: magenta;">2.3</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> puede modificar los times de un día específico. Ahora, cuando pasa esto:</span></p><p class=" Normal" style="text-indent: 48px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">1-Como sabemos si el día esta modificado o no? </span></p><p class=" Normal" style="text-indent: 48px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2-Cómo guardamo</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">s los 2 tipos de times.?</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">1-Ponemos en la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> correspondiente de “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” un campo </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">status</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que indique 1 si no </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">esta</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> modificado, y 2 si lo </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">esta</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2-</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Optamos por usar una tabla distinta para cada uno: “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">modified_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”. De esta manera los horario</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">s modificados de cierto día irán a “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">modified</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> times” y serán eliminados una vez pasada la fecha. Mientras que los default o fijos estarán en “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Sin </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">embargo</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> esto tiene un problema. Y es </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">que</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> al tomar un turno, se inserta el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” del mismo a</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">to_confirm</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y luego también a “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">appointments</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”; quienes no pueden tener una “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">fk</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” a la tabla del time porque el time puede venir de 2 tablas distintas. </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Osea</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> no se puede tener una “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">fk</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” a 2 tablas al mismo tiempo. Esto nos trae las siguientes complicaciones:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.A-Que se puedan meter </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> que no existan.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.B-Que se puedan repetir </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> al tener 2 iguales en ambas tablas de times.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Cómo los solucionamos:</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.A-</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Cuando se recibe un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">time_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> en la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">request</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> para tomar un turno, debe verificarse que pertenezca al</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” que también se manda en la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">request</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">. Así ya sabemos que existe.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">2.B-</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Lo que hacemos es asignar que los </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">empiezen</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> con 1, y los </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ids</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">modified_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">empiezen</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> con 2. En memoria mantenemos un contador para ambos y lo actualizamos</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> cada vez que se mete un time a cualquiera de los dos. Simplemente pondríamos el número que </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">corresponda(</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">1 o 2) adelante y luego el contador.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Ej</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">: Contador para “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”. Si estamos en 3 y aumenta, el id para el nuevo seria 14.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">                       </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">                                        Si estamos en 9 y aumenta, el id para el nuevo sería 110.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Ej</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">: Contador para “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">modified_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”. Si estamos en 3 y aumenta, el id para el nuevo sería 24.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">                                                               Si estamos en 9 y aumenta, el id para el nuevo sería 210.</span></p><h2 class=" Normal Ttulo2" id=""></h2><h2 class=" Normal Ttulo2" id="2-Separar las tablas para consultar disponibilidad, de la de turnos ya consolidados:"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">2-Separar las tablas para consultar dispo</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">nibilidad, de la de turnos ya consolidados:</span></h2><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Con el objetivo de optimizar las distintas operaciones en la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">db</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, elegimos separar las tablas de “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">confirmed</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">appointments</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”. De esta manera la primera solo se utiliza para chequear si un turno ya está tomado; y </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">la segunda para ver en qué turnos están involucrados los </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyers</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> o </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">clients</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">. Y además podría usarse para enviar notificaciones cuando el momento del turno se aproxime, y demás.</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Si </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">juntaramos</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> ambas en una sola, dicha tabla se usaría para hacer demasiadas ope</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">raciones. Y además se </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">complicaria</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> al querer extender en un futuro, funcionalidades relacionadas con cada una. </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">Ej</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">: quizá queremos meter </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">mas</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">attrs</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> a un turno ya consolidado, como información que envía el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">client</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">, </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">algun</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> archivo, etc. Y si está todo junto y cad</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">a vez crece más, va a llegar un punto donde la función de la tabla ya no está clara, y seguramente tenga problemas de performance.</span></p><p class=" Normal"></p><h2 class=" Normal Ttulo2" id="3-Rellenados de DB:"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(255, 192, 0); font-size: 21px; text-decoration: underline;">3-Rellenados de DB:</span></h2><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 16px;">La técnica sistema de turnos que implementamos requiere de un pre rellenado de ciertas tablas para funci</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255); font-size: 16px;">onar. Y Tenemos 2:</span></p><h3 class=" Normal Ttulo3" id="_heading=h.uzf2c3gzil7y"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">Rellenado al final de cada </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">dia</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">:</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">(Esto se haría con un </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">scheduler</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> programado, al final de cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">).</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Por cada </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">:</span></p><p class=" Normal" style="margin-left: 12px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Ver el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” correspondiente para el correspondiente día de la semana en "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">( </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ahi</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> obtenemos “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”)</span></p><p class=" Normal" style="margin-left: 12px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Meter </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> a "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" con el "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" y "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" (como “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”)  correspondiente</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> y status=1.  (</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ahi</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> obtenem</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">os "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">")</span></p><p class=" Normal" style="margin-left: 12px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Meter </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> a “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” con el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” correspondiente.</span></p><h3 class=" Normal Ttulo3" id="_heading=h.22w9i87n5khq"><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">Rellenado si se ingresa por primera vez un </span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">lawyer</span><span class=" Fuentedeprrafopredeter" style="font-weight: 700; color: rgb(0, 176, 240);">:</span></h3><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Se meten la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">config</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de los 7 días en "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_conf</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">".</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Por cada día de la semana se meten sus horarios a "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">default_time</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">s</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">"</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Por cada día (de mes, no de semana) hasta igualar el límite impuesto (días a futuro para ver turno):    </span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">(SE HACE BÁSICAMENTE LO MISMO QUE EN EL DE CADA DIA)</span></p><p class=" Normal" style="margin-left: 48px;"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> -Se obtiene su </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">num</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">dia</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> de la semana (el </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">) y con eso se obtiene “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">c</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">ant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” </span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">             -Se mete la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> a "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" con el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">week_day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">cant_times</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” (como “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">avail</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">”)   </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">correspondiente y status=1</span></p><p class=" Normal"><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">     </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">-Se mete la </span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">row</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);"> a "</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_days</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">" con el “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">lawyer_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” y “</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">day_id</span><span class=" Fuentedeprrafopredeter" style="color: rgb(255, 255, 255);">” correspondiente.</span></p><p class=" Normal"></p><p class=" Normal"></p></details></section></div></div>
        </div>

        <div id="espacio-derecha"></div>

    </div>

</body>
</html>